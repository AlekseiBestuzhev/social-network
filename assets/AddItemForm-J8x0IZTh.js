import{r as x,a0 as j,a1 as _,j as o,B as w}from"./index-iNpgpxSW.js";const b=r=>{const e=x.useRef(null);return{textareaRef:e,adjustTextareaHeight:()=>{e.current&&(e.current.style.height="0px",e.current.style.height=`${e.current.scrollHeight}px`,e.current.scrollHeight>r?(e.current.style.overflowY="scroll",e.current.style.height=`${r}px`):e.current.style.overflowY="hidden")}}},E="_wrapper_1lyoh_1",H="_textarea_1lyoh_10",v="_errorMessage_1lyoh_34",n={wrapper:E,textarea:H,errorMessage:v},S=({placeholder:r,onSubmit:e,children:l})=>{const{textareaRef:h,adjustTextareaHeight:f}=b(200),{control:m,handleSubmit:c,watch:p,reset:d}=j(),s=p("message"),u=s==null?void 0:s.trim().length,{field:{ref:M,...g},fieldState:{error:a}}=_({name:"message",control:m}),i=t=>{e(t),d({message:""})},y=t=>{t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),u&&c(i)())};return x.useEffect(()=>{f()},[s]),o.jsxs("form",{onSubmit:c(i),className:n.wrapper,children:[o.jsx("textarea",{className:`${n.textarea} ${a&&n.errorMessage}`,placeholder:a?a.message:r,onKeyDown:y,ref:h,...g}),o.jsx(w,{variant:"submit",disabled:!u,children:l})]})};export{S as A};
