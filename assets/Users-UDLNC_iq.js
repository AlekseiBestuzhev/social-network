import{r as re,c as Pe,g as ye,j as m,R as xe,a as ke,s as pe,u as Ne,b as Le,d as we,e as ue,f as _e,h as je,i as Re,k as be,N as ge,l as de,A as Ee,B as Oe,m as W,n as Ae,P as Se,L as Be,o as Te}from"./index-iNpgpxSW.js";import{w as De}from"./withAuthRedirect-5xLrqztY.js";const Ie="_wrapper_1x29f_1",Ue="_list_1x29f_8",fe={wrapper:Ie,list:Ue};var ve={exports:{}};(function(p,L){(function(v,y){p.exports=y(re)})(Pe,v=>(()=>{var y={703:(i,c,f)=>{var a=f(414);function S(){}function $(){}$.resetWarningCache=S,i.exports=function(){function x(le,D,X,Y,ce,G){if(G!==a){var ee=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ee.name="Invariant Violation",ee}}function O(){return x}x.isRequired=x;var Z={array:x,bigint:x,bool:x,func:x,number:x,object:x,string:x,symbol:x,any:x,arrayOf:O,element:x,elementType:x,instanceOf:O,node:x,objectOf:O,oneOf:O,oneOfType:O,shape:O,exact:O,checkPropTypes:$,resetWarningCache:S};return Z.PropTypes=Z,Z}},697:(i,c,f)=>{i.exports=f(703)()},414:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:i=>{i.exports=v}},E={};function h(i){var c=E[i];if(c!==void 0)return c.exports;var f=E[i]={exports:{}};return y[i](f,f.exports,h),f.exports}h.n=i=>{var c=i&&i.__esModule?()=>i.default:()=>i;return h.d(c,{a:c}),c},h.d=(i,c)=>{for(var f in c)h.o(c,f)&&!h.o(i,f)&&Object.defineProperty(i,f,{enumerable:!0,get:c[f]})},h.o=(i,c)=>Object.prototype.hasOwnProperty.call(i,c),h.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var T={};return(()=>{h.r(T),h.d(T,{default:()=>he});var i=h(98),c=h.n(i),f=h(697),a=h.n(f);function S(){return S=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(n[u]=l[u])}return n},S.apply(this,arguments)}var $=function(n){var s=n.pageClassName,l=n.pageLinkClassName,u=n.page,J=n.selected,z=n.activeClassName,A=n.activeLinkClassName,t=n.getEventListener,e=n.pageSelectedHandler,d=n.href,r=n.extraAriaContext,o=n.pageLabelBuilder,g=n.rel,C=n.ariaLabel||"Page "+u+(r?" "+r:""),k=null;return J&&(k="page",C=n.ariaLabel||"Page "+u+" is your current page",s=s!==void 0?s+" "+z:z,l!==void 0?A!==void 0&&(l=l+" "+A):l=A),c().createElement("li",{className:s},c().createElement("a",S({rel:g,role:d?void 0:"button",className:l,href:d,tabIndex:J?"-1":"0","aria-label":C,"aria-current":k,onKeyPress:e},t(e)),o(u)))};$.propTypes={pageSelectedHandler:a().func.isRequired,selected:a().bool.isRequired,pageClassName:a().string,pageLinkClassName:a().string,activeClassName:a().string,activeLinkClassName:a().string,extraAriaContext:a().string,href:a().string,ariaLabel:a().string,page:a().number.isRequired,getEventListener:a().func.isRequired,pageLabelBuilder:a().func.isRequired,rel:a().string};const x=$;function O(){return O=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(n[u]=l[u])}return n},O.apply(this,arguments)}var Z=function(n){var s=n.breakLabel,l=n.breakAriaLabel,u=n.breakClassName,J=n.breakLinkClassName,z=n.breakHandler,A=n.getEventListener,t=u||"break";return c().createElement("li",{className:t},c().createElement("a",O({className:J,role:"button",tabIndex:"0","aria-label":l,onKeyPress:z},A(z)),s))};Z.propTypes={breakLabel:a().oneOfType([a().string,a().node]),breakAriaLabel:a().string,breakClassName:a().string,breakLinkClassName:a().string,breakHandler:a().func.isRequired,getEventListener:a().func.isRequired};const le=Z;function D(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return n??s}function X(n){return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},X(n)}function Y(){return Y=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(n[u]=l[u])}return n},Y.apply(this,arguments)}function ce(n,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(n,u.key,u)}}function G(n,s){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,u){return l.__proto__=u,l},G(n,s)}function ee(n,s){if(s&&(X(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(n)}function _(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ae(n){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},ae(n)}function N(n,s,l){return s in n?Object.defineProperty(n,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[s]=l,n}var se=function(n){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G(t,e)})(A,n);var s,l,u,J,z=(u=A,J=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var t,e=ae(u);if(J){var d=ae(this).constructor;t=Reflect.construct(e,arguments,d)}else t=e.apply(this,arguments);return ee(this,t)});function A(t){var e,d;return function(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}(this,A),N(_(e=z.call(this,t)),"handlePreviousPage",function(r){var o=e.state.selected;e.handleClick(r,null,o>0?o-1:void 0,{isPrevious:!0})}),N(_(e),"handleNextPage",function(r){var o=e.state.selected,g=e.props.pageCount;e.handleClick(r,null,o<g-1?o+1:void 0,{isNext:!0})}),N(_(e),"handlePageSelected",function(r,o){if(e.state.selected===r)return e.callActiveCallback(r),void e.handleClick(o,null,void 0,{isActive:!0});e.handleClick(o,null,r)}),N(_(e),"handlePageChange",function(r){e.state.selected!==r&&(e.setState({selected:r}),e.callCallback(r))}),N(_(e),"getEventListener",function(r){return N({},e.props.eventListener,r)}),N(_(e),"handleClick",function(r,o,g){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},k=C.isPrevious,B=k!==void 0&&k,V=C.isNext,Q=V!==void 0&&V,K=C.isBreak,j=K!==void 0&&K,U=C.isActive,H=U!==void 0&&U;r.preventDefault?r.preventDefault():r.returnValue=!1;var q=e.state.selected,b=e.props.onClick,R=g;if(b){var w=b({index:o,selected:q,nextSelectedPage:g,event:r,isPrevious:B,isNext:Q,isBreak:j,isActive:H});if(w===!1)return;Number.isInteger(w)&&(R=w)}R!==void 0&&e.handlePageChange(R)}),N(_(e),"handleBreakClick",function(r,o){var g=e.state.selected;e.handleClick(o,r,g<r?e.getForwardJump():e.getBackwardJump(),{isBreak:!0})}),N(_(e),"callCallback",function(r){e.props.onPageChange!==void 0&&typeof e.props.onPageChange=="function"&&e.props.onPageChange({selected:r})}),N(_(e),"callActiveCallback",function(r){e.props.onPageActive!==void 0&&typeof e.props.onPageActive=="function"&&e.props.onPageActive({selected:r})}),N(_(e),"getElementPageRel",function(r){var o=e.state.selected,g=e.props,C=g.nextPageRel,k=g.prevPageRel,B=g.selectedPageRel;return o-1===r?k:o===r?B:o+1===r?C:void 0}),N(_(e),"pagination",function(){var r=[],o=e.props,g=o.pageRangeDisplayed,C=o.pageCount,k=o.marginPagesDisplayed,B=o.breakLabel,V=o.breakClassName,Q=o.breakLinkClassName,K=o.breakAriaLabels,j=e.state.selected;if(C<=g)for(var U=0;U<C;U++)r.push(e.getPageElement(U));else{var H=g/2,q=g-H;j>C-g/2?H=g-(q=C-j):j<g/2&&(q=g-(H=j));var b,R,w=function(F){return e.getPageElement(F)},P=[];for(b=0;b<C;b++){var te=b+1;if(te<=k)P.push({type:"page",index:b,display:w(b)});else if(te>C-k)P.push({type:"page",index:b,display:w(b)});else if(b>=j-H&&b<=j+(j===0&&g>1?q-1:q))P.push({type:"page",index:b,display:w(b)});else if(B&&P.length>0&&P[P.length-1].display!==R&&(g>0||k>0)){var oe=b<j?K.backward:K.forward;R=c().createElement(le,{key:b,breakAriaLabel:oe,breakLabel:B,breakClassName:V,breakLinkClassName:Q,breakHandler:e.handleBreakClick.bind(null,b),getEventListener:e.getEventListener}),P.push({type:"break",index:b,display:R})}}P.forEach(function(F,M){var ne=F;F.type==="break"&&P[M-1]&&P[M-1].type==="page"&&P[M+1]&&P[M+1].type==="page"&&P[M+1].index-P[M-1].index<=2&&(ne={type:"page",index:F.index,display:w(F.index)}),r.push(ne.display)})}return r}),t.initialPage!==void 0&&t.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(t.initialPage,") and forcePage (").concat(t.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),d=t.initialPage?t.initialPage:t.forcePage?t.forcePage:0,e.state={selected:d},e}return s=A,(l=[{key:"componentDidMount",value:function(){var t=this.props,e=t.initialPage,d=t.disableInitialCallback,r=t.extraAriaContext,o=t.pageCount,g=t.forcePage;e===void 0||d||this.callCallback(e),r&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(o)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(o,"). Did you forget a Math.ceil()?")),e!==void 0&&e>o-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(e," > ").concat(o-1,").")),g!==void 0&&g>o-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(g," > ").concat(o-1,")."))}},{key:"componentDidUpdate",value:function(t){this.props.forcePage!==void 0&&this.props.forcePage!==t.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(t.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var t=this.state.selected,e=this.props,d=e.pageCount,r=t+e.pageRangeDisplayed;return r>=d?d-1:r}},{key:"getBackwardJump",value:function(){var t=this.state.selected-this.props.pageRangeDisplayed;return t<0?0:t}},{key:"getElementHref",value:function(t){var e=this.props,d=e.hrefBuilder,r=e.pageCount,o=e.hrefAllControls;if(d)return o||t>=0&&t<r?d(t+1,r,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(t){var e=t===this.state.selected;if(this.props.ariaLabelBuilder&&t>=0&&t<this.props.pageCount){var d=this.props.ariaLabelBuilder(t+1,e);return this.props.extraAriaContext&&!e&&(d=d+" "+this.props.extraAriaContext),d}}},{key:"getPageElement",value:function(t){var e=this.state.selected,d=this.props,r=d.pageClassName,o=d.pageLinkClassName,g=d.activeClassName,C=d.activeLinkClassName,k=d.extraAriaContext,B=d.pageLabelBuilder;return c().createElement(x,{key:t,pageSelectedHandler:this.handlePageSelected.bind(null,t),selected:e===t,rel:this.getElementPageRel(t),pageClassName:r,pageLinkClassName:o,activeClassName:g,activeLinkClassName:C,extraAriaContext:k,href:this.getElementHref(t),ariaLabel:this.ariaLabelBuilder(t),page:t+1,pageLabelBuilder:B,getEventListener:this.getEventListener})}},{key:"render",value:function(){var t=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&t!==void 0)return t&&t(this.props);var e=this.props,d=e.disabledClassName,r=e.disabledLinkClassName,o=e.pageCount,g=e.className,C=e.containerClassName,k=e.previousLabel,B=e.previousClassName,V=e.previousLinkClassName,Q=e.previousAriaLabel,K=e.prevRel,j=e.nextLabel,U=e.nextClassName,H=e.nextLinkClassName,q=e.nextAriaLabel,b=e.nextRel,R=this.state.selected,w=R===0,P=R===o-1,te="".concat(D(B)).concat(w?" ".concat(D(d)):""),oe="".concat(D(U)).concat(P?" ".concat(D(d)):""),F="".concat(D(V)).concat(w?" ".concat(D(r)):""),M="".concat(D(H)).concat(P?" ".concat(D(r)):""),ne=w?"true":"false",Ce=P?"true":"false";return c().createElement("ul",{className:g||C,role:"navigation","aria-label":"Pagination"},c().createElement("li",{className:te},c().createElement("a",Y({className:F,href:this.getElementHref(R-1),tabIndex:w?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":ne,"aria-label":Q,rel:K},this.getEventListener(this.handlePreviousPage)),k)),this.pagination(),c().createElement("li",{className:oe},c().createElement("a",Y({className:M,href:this.getElementHref(R+1),tabIndex:P?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":Ce,"aria-label":q,rel:b},this.getEventListener(this.handleNextPage)),j)))}}])&&ce(s.prototype,l),Object.defineProperty(s,"prototype",{writable:!1}),A}(i.Component);N(se,"propTypes",{pageCount:a().number.isRequired,pageRangeDisplayed:a().number,marginPagesDisplayed:a().number,previousLabel:a().node,previousAriaLabel:a().string,prevPageRel:a().string,prevRel:a().string,nextLabel:a().node,nextAriaLabel:a().string,nextPageRel:a().string,nextRel:a().string,breakLabel:a().oneOfType([a().string,a().node]),breakAriaLabels:a().shape({forward:a().string,backward:a().string}),hrefBuilder:a().func,hrefAllControls:a().bool,onPageChange:a().func,onPageActive:a().func,onClick:a().func,initialPage:a().number,forcePage:a().number,disableInitialCallback:a().bool,containerClassName:a().string,className:a().string,pageClassName:a().string,pageLinkClassName:a().string,pageLabelBuilder:a().func,activeClassName:a().string,activeLinkClassName:a().string,previousClassName:a().string,nextClassName:a().string,previousLinkClassName:a().string,nextLinkClassName:a().string,disabledClassName:a().string,disabledLinkClassName:a().string,breakClassName:a().string,breakLinkClassName:a().string,extraAriaContext:a().string,ariaLabelBuilder:a().func,eventListener:a().string,renderOnZeroPageCount:a().func,selectedPageRel:a().string}),N(se,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(n){return n},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const he=se})(),T})())})(ve);var He=ve.exports;const qe=ye(He),Fe="_wrapper_7s4tv_1",Me="_item_7s4tv_21",$e="_active_7s4tv_24",ie={wrapper:Fe,item:Me,active:$e},Je=re.memo(({pageSize:p,totalUsersCount:L,onPageChange:v})=>{const y=Math.ceil(L/p),E=h=>{const T=h.selected+1;v(T)};return m.jsx(qe,{containerClassName:ie.wrapper,pageClassName:ie.item,activeClassName:ie.active,previousLabel:m.jsx(xe,{}),breakLabel:"...",nextLabel:m.jsx(ke,{}),onPageChange:E,pageCount:y,renderOnZeroPageCount:null,pageRangeDisplayed:5,marginPagesDisplayed:1})}),ze="_body_1b8el_1",Ke="_imgBtn_1b8el_8",Ze="_info_1b8el_14",Ve="_nameStatus_1b8el_19",We="_name_1b8el_19",Ye="_status_1b8el_28",Ge="_location_1b8el_31",I={body:ze,imgBtn:Ke,info:Ze,nameStatus:Ve,name:We,status:Ye,location:Ge},me=(p,L)=>async v=>{v(pe("loading"));const y=await Ne.getUsers(p,L);v(Le(y.items)),v(we(y.totalCount)),v(pe("succeeded"))},Qe=(p,L)=>async v=>{v(ue(p,!0)),await _e.switchFollow(p,L)===0&&v(L?je(p):Re(p)),v(ue(p,!1))},Xe=re.memo(({id:p,photos:L,name:v,uniqueUrlName:y,followed:E,status:h,followingInProgress:T})=>{const i=be(),c=(S,$)=>()=>{i(Qe(S,$))},f=E?"unfollow":"follow",a=f==="follow"?"green":"default";return m.jsxs("li",{className:I.body,children:[m.jsxs("div",{className:I.imgBtn,children:[m.jsx(ge,{to:`${de.profile}/${p}`,children:m.jsx(Ee,{photo:L.large})}),m.jsx(Oe,{disabled:T.some(S=>S===p),variant:a,size:"small",onClick:c(p,E),children:f})]}),m.jsxs("div",{className:I.info,children:[m.jsxs("div",{className:I.nameStatus,children:[m.jsx(ge,{to:`${de.profile}/${p}`,children:m.jsx("h3",{className:I.name,"data-url":y,children:v})}),h&&m.jsxs("p",{className:I.status,children:['"',h,'"']})]}),m.jsxs("div",{className:I.location,children:[m.jsx("p",{className:I.city,children:"City"}),m.jsx("p",{className:I.country,children:"Country"})]})]})]})}),ea=p=>p.usersPage.currentPage,aa=p=>p.usersPage.followingInProgress,ta=p=>p.usersPage.pageSize,na=p=>p.usersPage.totalUsersCount,ra=p=>p.usersPage.users,sa=()=>{const p=W(aa),L=W(na),v=W(ea),y=W(ta),E=W(ra);return{followList:p,totalUsersCount:L,currentPage:v,pageSize:y,users:E}},la=De(()=>{const{followList:p,totalUsersCount:L,currentPage:v,pageSize:y,users:E}=sa(),T=W(Ae)==="loading",i=be(),c=f=>{i(Te(f)),i(me(f,y))};return re.useEffect(()=>(i(me(v,y)),()=>{c(1)}),[]),m.jsxs(Se,{pageTitle:"Users",children:[m.jsx("nav",{className:fe.wrapper,children:m.jsx(Je,{pageSize:y,onPageChange:c,totalUsersCount:L})}),T&&m.jsx(Be,{}),m.jsx("ul",{className:fe.list,children:E.map(f=>m.jsx(Xe,{id:f.id,photos:f.photos,name:f.name,uniqueUrlName:f.uniqueUrlName,followed:f.followed,status:f.status,followingInProgress:p},f.id))})]})});export{la as Users};
