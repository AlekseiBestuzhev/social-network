import{r as ne,c as Ce,g as Pe,j as m,R as ye,a as xe,s as pe,u as ke,b as Ne,d as Le,e as ue,f as we,h as _e,i as je,k as W,l as me,N as ge,A as Re,B as Ee,P as Oe,L as Ae,m as Se}from"./index-d2e6744b.js";import{w as Be}from"./withAuthRedirect-130d4bfb.js";const Te="_wrapper_r1uz5_1",De="_item_r1uz5_21",Ie="_active_r1uz5_24",ie={wrapper:Te,item:De,active:Ie};var be={exports:{}};(function(l,L){(function(v,y){l.exports=y(ne)})(Ce,v=>(()=>{var y={703:(i,p,f)=>{var a=f(414);function S(){}function M(){}M.resetWarningCache=S,i.exports=function(){function x(le,D,X,Y,ce,G){if(G!==a){var ee=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ee.name="Invariant Violation",ee}}function O(){return x}x.isRequired=x;var Z={array:x,bigint:x,bool:x,func:x,number:x,object:x,string:x,symbol:x,any:x,arrayOf:O,element:x,elementType:x,instanceOf:O,node:x,objectOf:O,oneOf:O,oneOfType:O,shape:O,exact:O,checkPropTypes:M,resetWarningCache:S};return Z.PropTypes=Z,Z}},697:(i,p,f)=>{i.exports=f(703)()},414:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:i=>{i.exports=v}},E={};function h(i){var p=E[i];if(p!==void 0)return p.exports;var f=E[i]={exports:{}};return y[i](f,f.exports,h),f.exports}h.n=i=>{var p=i&&i.__esModule?()=>i.default:()=>i;return h.d(p,{a:p}),p},h.d=(i,p)=>{for(var f in p)h.o(p,f)&&!h.o(i,f)&&Object.defineProperty(i,f,{enumerable:!0,get:p[f]})},h.o=(i,p)=>Object.prototype.hasOwnProperty.call(i,p),h.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var T={};return(()=>{h.r(T),h.d(T,{default:()=>ve});var i=h(98),p=h.n(i),f=h(697),a=h.n(f);function S(){return S=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var c=arguments[s];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(r[u]=c[u])}return r},S.apply(this,arguments)}var M=function(r){var s=r.pageClassName,c=r.pageLinkClassName,u=r.page,J=r.selected,$=r.activeClassName,A=r.activeLinkClassName,t=r.getEventListener,e=r.pageSelectedHandler,d=r.href,n=r.extraAriaContext,o=r.pageLabelBuilder,g=r.rel,C=r.ariaLabel||"Page "+u+(n?" "+n:""),k=null;return J&&(k="page",C=r.ariaLabel||"Page "+u+" is your current page",s=s!==void 0?s+" "+$:$,c!==void 0?A!==void 0&&(c=c+" "+A):c=A),p().createElement("li",{className:s},p().createElement("a",S({rel:g,role:d?void 0:"button",className:c,href:d,tabIndex:J?"-1":"0","aria-label":C,"aria-current":k,onKeyPress:e},t(e)),o(u)))};M.propTypes={pageSelectedHandler:a().func.isRequired,selected:a().bool.isRequired,pageClassName:a().string,pageLinkClassName:a().string,activeClassName:a().string,activeLinkClassName:a().string,extraAriaContext:a().string,href:a().string,ariaLabel:a().string,page:a().number.isRequired,getEventListener:a().func.isRequired,pageLabelBuilder:a().func.isRequired,rel:a().string};const x=M;function O(){return O=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var c=arguments[s];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(r[u]=c[u])}return r},O.apply(this,arguments)}var Z=function(r){var s=r.breakLabel,c=r.breakAriaLabel,u=r.breakClassName,J=r.breakLinkClassName,$=r.breakHandler,A=r.getEventListener,t=u||"break";return p().createElement("li",{className:t},p().createElement("a",O({className:J,role:"button",tabIndex:"0","aria-label":c,onKeyPress:$},A($)),s))};Z.propTypes={breakLabel:a().oneOfType([a().string,a().node]),breakAriaLabel:a().string,breakClassName:a().string,breakLinkClassName:a().string,breakHandler:a().func.isRequired,getEventListener:a().func.isRequired};const le=Z;function D(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return r??s}function X(r){return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},X(r)}function Y(){return Y=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var c=arguments[s];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(r[u]=c[u])}return r},Y.apply(this,arguments)}function ce(r,s){for(var c=0;c<s.length;c++){var u=s[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}function G(r,s){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,u){return c.__proto__=u,c},G(r,s)}function ee(r,s){if(s&&(X(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(r)}function _(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ae(r){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},ae(r)}function N(r,s,c){return s in r?Object.defineProperty(r,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[s]=c,r}var se=function(r){(function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G(t,e)})(A,r);var s,c,u,J,$=(u=A,J=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var t,e=ae(u);if(J){var d=ae(this).constructor;t=Reflect.construct(e,arguments,d)}else t=e.apply(this,arguments);return ee(this,t)});function A(t){var e,d;return function(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}(this,A),N(_(e=$.call(this,t)),"handlePreviousPage",function(n){var o=e.state.selected;e.handleClick(n,null,o>0?o-1:void 0,{isPrevious:!0})}),N(_(e),"handleNextPage",function(n){var o=e.state.selected,g=e.props.pageCount;e.handleClick(n,null,o<g-1?o+1:void 0,{isNext:!0})}),N(_(e),"handlePageSelected",function(n,o){if(e.state.selected===n)return e.callActiveCallback(n),void e.handleClick(o,null,void 0,{isActive:!0});e.handleClick(o,null,n)}),N(_(e),"handlePageChange",function(n){e.state.selected!==n&&(e.setState({selected:n}),e.callCallback(n))}),N(_(e),"getEventListener",function(n){return N({},e.props.eventListener,n)}),N(_(e),"handleClick",function(n,o,g){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},k=C.isPrevious,B=k!==void 0&&k,V=C.isNext,Q=V!==void 0&&V,K=C.isBreak,j=K!==void 0&&K,U=C.isActive,H=U!==void 0&&U;n.preventDefault?n.preventDefault():n.returnValue=!1;var q=e.state.selected,b=e.props.onClick,R=g;if(b){var w=b({index:o,selected:q,nextSelectedPage:g,event:n,isPrevious:B,isNext:Q,isBreak:j,isActive:H});if(w===!1)return;Number.isInteger(w)&&(R=w)}R!==void 0&&e.handlePageChange(R)}),N(_(e),"handleBreakClick",function(n,o){var g=e.state.selected;e.handleClick(o,n,g<n?e.getForwardJump():e.getBackwardJump(),{isBreak:!0})}),N(_(e),"callCallback",function(n){e.props.onPageChange!==void 0&&typeof e.props.onPageChange=="function"&&e.props.onPageChange({selected:n})}),N(_(e),"callActiveCallback",function(n){e.props.onPageActive!==void 0&&typeof e.props.onPageActive=="function"&&e.props.onPageActive({selected:n})}),N(_(e),"getElementPageRel",function(n){var o=e.state.selected,g=e.props,C=g.nextPageRel,k=g.prevPageRel,B=g.selectedPageRel;return o-1===n?k:o===n?B:o+1===n?C:void 0}),N(_(e),"pagination",function(){var n=[],o=e.props,g=o.pageRangeDisplayed,C=o.pageCount,k=o.marginPagesDisplayed,B=o.breakLabel,V=o.breakClassName,Q=o.breakLinkClassName,K=o.breakAriaLabels,j=e.state.selected;if(C<=g)for(var U=0;U<C;U++)n.push(e.getPageElement(U));else{var H=g/2,q=g-H;j>C-g/2?H=g-(q=C-j):j<g/2&&(q=g-(H=j));var b,R,w=function(z){return e.getPageElement(z)},P=[];for(b=0;b<C;b++){var te=b+1;if(te<=k)P.push({type:"page",index:b,display:w(b)});else if(te>C-k)P.push({type:"page",index:b,display:w(b)});else if(b>=j-H&&b<=j+(j===0&&g>1?q-1:q))P.push({type:"page",index:b,display:w(b)});else if(B&&P.length>0&&P[P.length-1].display!==R&&(g>0||k>0)){var oe=b<j?K.backward:K.forward;R=p().createElement(le,{key:b,breakAriaLabel:oe,breakLabel:B,breakClassName:V,breakLinkClassName:Q,breakHandler:e.handleBreakClick.bind(null,b),getEventListener:e.getEventListener}),P.push({type:"break",index:b,display:R})}}P.forEach(function(z,F){var re=z;z.type==="break"&&P[F-1]&&P[F-1].type==="page"&&P[F+1]&&P[F+1].type==="page"&&P[F+1].index-P[F-1].index<=2&&(re={type:"page",index:z.index,display:w(z.index)}),n.push(re.display)})}return n}),t.initialPage!==void 0&&t.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(t.initialPage,") and forcePage (").concat(t.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),d=t.initialPage?t.initialPage:t.forcePage?t.forcePage:0,e.state={selected:d},e}return s=A,(c=[{key:"componentDidMount",value:function(){var t=this.props,e=t.initialPage,d=t.disableInitialCallback,n=t.extraAriaContext,o=t.pageCount,g=t.forcePage;e===void 0||d||this.callCallback(e),n&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(o)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(o,"). Did you forget a Math.ceil()?")),e!==void 0&&e>o-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(e," > ").concat(o-1,").")),g!==void 0&&g>o-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(g," > ").concat(o-1,")."))}},{key:"componentDidUpdate",value:function(t){this.props.forcePage!==void 0&&this.props.forcePage!==t.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(t.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var t=this.state.selected,e=this.props,d=e.pageCount,n=t+e.pageRangeDisplayed;return n>=d?d-1:n}},{key:"getBackwardJump",value:function(){var t=this.state.selected-this.props.pageRangeDisplayed;return t<0?0:t}},{key:"getElementHref",value:function(t){var e=this.props,d=e.hrefBuilder,n=e.pageCount,o=e.hrefAllControls;if(d)return o||t>=0&&t<n?d(t+1,n,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(t){var e=t===this.state.selected;if(this.props.ariaLabelBuilder&&t>=0&&t<this.props.pageCount){var d=this.props.ariaLabelBuilder(t+1,e);return this.props.extraAriaContext&&!e&&(d=d+" "+this.props.extraAriaContext),d}}},{key:"getPageElement",value:function(t){var e=this.state.selected,d=this.props,n=d.pageClassName,o=d.pageLinkClassName,g=d.activeClassName,C=d.activeLinkClassName,k=d.extraAriaContext,B=d.pageLabelBuilder;return p().createElement(x,{key:t,pageSelectedHandler:this.handlePageSelected.bind(null,t),selected:e===t,rel:this.getElementPageRel(t),pageClassName:n,pageLinkClassName:o,activeClassName:g,activeLinkClassName:C,extraAriaContext:k,href:this.getElementHref(t),ariaLabel:this.ariaLabelBuilder(t),page:t+1,pageLabelBuilder:B,getEventListener:this.getEventListener})}},{key:"render",value:function(){var t=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&t!==void 0)return t&&t(this.props);var e=this.props,d=e.disabledClassName,n=e.disabledLinkClassName,o=e.pageCount,g=e.className,C=e.containerClassName,k=e.previousLabel,B=e.previousClassName,V=e.previousLinkClassName,Q=e.previousAriaLabel,K=e.prevRel,j=e.nextLabel,U=e.nextClassName,H=e.nextLinkClassName,q=e.nextAriaLabel,b=e.nextRel,R=this.state.selected,w=R===0,P=R===o-1,te="".concat(D(B)).concat(w?" ".concat(D(d)):""),oe="".concat(D(U)).concat(P?" ".concat(D(d)):""),z="".concat(D(V)).concat(w?" ".concat(D(n)):""),F="".concat(D(H)).concat(P?" ".concat(D(n)):""),re=w?"true":"false",he=P?"true":"false";return p().createElement("ul",{className:g||C,role:"navigation","aria-label":"Pagination"},p().createElement("li",{className:te},p().createElement("a",Y({className:z,href:this.getElementHref(R-1),tabIndex:w?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":re,"aria-label":Q,rel:K},this.getEventListener(this.handlePreviousPage)),k)),this.pagination(),p().createElement("li",{className:oe},p().createElement("a",Y({className:F,href:this.getElementHref(R+1),tabIndex:P?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":he,"aria-label":q,rel:b},this.getEventListener(this.handleNextPage)),j)))}}])&&ce(s.prototype,c),Object.defineProperty(s,"prototype",{writable:!1}),A}(i.Component);N(se,"propTypes",{pageCount:a().number.isRequired,pageRangeDisplayed:a().number,marginPagesDisplayed:a().number,previousLabel:a().node,previousAriaLabel:a().string,prevPageRel:a().string,prevRel:a().string,nextLabel:a().node,nextAriaLabel:a().string,nextPageRel:a().string,nextRel:a().string,breakLabel:a().oneOfType([a().string,a().node]),breakAriaLabels:a().shape({forward:a().string,backward:a().string}),hrefBuilder:a().func,hrefAllControls:a().bool,onPageChange:a().func,onPageActive:a().func,onClick:a().func,initialPage:a().number,forcePage:a().number,disableInitialCallback:a().bool,containerClassName:a().string,className:a().string,pageClassName:a().string,pageLinkClassName:a().string,pageLabelBuilder:a().func,activeClassName:a().string,activeLinkClassName:a().string,previousClassName:a().string,nextClassName:a().string,previousLinkClassName:a().string,nextLinkClassName:a().string,disabledClassName:a().string,disabledLinkClassName:a().string,breakClassName:a().string,breakLinkClassName:a().string,extraAriaContext:a().string,ariaLabelBuilder:a().func,eventListener:a().string,renderOnZeroPageCount:a().func,selectedPageRel:a().string}),N(se,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(r){return r},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const ve=se})(),T})())})(be);var Ue=be.exports;const He=Pe(Ue),qe=ne.memo(({pageSize:l,totalUsersCount:L,onPageChange:v})=>{const y=Math.ceil(L/l),E=h=>{const T=h.selected+1;v(T)};return m.jsx(He,{containerClassName:ie.wrapper,pageClassName:ie.item,activeClassName:ie.active,previousLabel:m.jsx(ye,{}),breakLabel:"...",nextLabel:m.jsx(xe,{}),onPageChange:E,pageCount:y,renderOnZeroPageCount:null,pageRangeDisplayed:5,marginPagesDisplayed:1})}),ze=l=>l.service.appStatus,de=(l,L)=>async v=>{v(pe("loading"));const y=await ke.getUsers(l,L);v(Ne(y.items)),v(Le(y.totalCount)),v(pe("succeeded"))},Fe=(l,L)=>async v=>{v(ue(l,!0)),await we.switchFollow(l,L)===0&&v(L?_e(l):je(l)),v(ue(l,!1))},Me=l=>l.usersPage.followingInProgress,Je=l=>l.usersPage.totalUsersCount,$e=l=>l.usersPage.currentPage,Ke=l=>l.usersPage.pageSize,Ze=l=>l.usersPage.users,Ve=()=>{const l=W(Me),L=W(Je),v=W($e),y=W(Ke),E=W(Ze);return{followList:l,totalUsersCount:L,currentPage:v,pageSize:y,users:E}},We="_body_1b8el_1",Ye="_imgBtn_1b8el_8",Ge="_info_1b8el_14",Qe="_nameStatus_1b8el_19",Xe="_name_1b8el_19",ea="_status_1b8el_28",aa="_location_1b8el_31",I={body:We,imgBtn:Ye,info:Ge,nameStatus:Qe,name:Xe,status:ea,location:aa},ta=ne.memo(({id:l,photos:L,name:v,uniqueUrlName:y,followed:E,status:h,followingInProgress:T})=>{const i=me(),p=(S,M)=>()=>{i(Fe(S,M))},f=E?"unfollow":"follow",a=f==="follow"?"green":"default";return m.jsxs("li",{className:I.body,children:[m.jsxs("div",{className:I.imgBtn,children:[m.jsx(ge,{to:`/profile/${l}`,children:m.jsx(Re,{photo:L.large})}),m.jsx(Ee,{disabled:T.some(S=>S===l),variant:a,size:"small",onClick:p(l,E),children:f})]}),m.jsxs("div",{className:I.info,children:[m.jsxs("div",{className:I.nameStatus,children:[m.jsx(ge,{to:`/profile/${l}`,children:m.jsx("h3",{className:I.name,"data-url":y,children:v})}),h&&m.jsxs("p",{className:I.status,children:['"',h,'"']})]}),m.jsxs("div",{className:I.location,children:[m.jsx("p",{className:I.city,children:"City"}),m.jsx("p",{className:I.country,children:"Country"})]})]})]})}),ra="_wrapper_1x29f_1",na="_list_1x29f_8",fe={wrapper:ra,list:na},ia=Be(()=>{const{followList:l,totalUsersCount:L,currentPage:v,pageSize:y,users:E}=Ve(),T=W(ze)==="loading",i=me(),p=f=>{i(Se(f)),i(de(f,y))};return ne.useEffect(()=>(i(de(v,y)),()=>{p(1)}),[]),m.jsxs(Oe,{pageTitle:"Users",children:[m.jsx("nav",{className:fe.wrapper,children:m.jsx(qe,{pageSize:y,onPageChange:p,totalUsersCount:L})}),T&&m.jsx(Ae,{}),m.jsx("ul",{className:fe.list,children:E.map(f=>m.jsx(ta,{id:f.id,photos:f.photos,name:f.name,uniqueUrlName:f.uniqueUrlName,followed:f.followed,status:f.status,followingInProgress:l},f.id))})]})});export{ia as Users};
